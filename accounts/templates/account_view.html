{% extends 'overall_template.html' %}
{% load i18n %}
{% load humanize %}
{% load money_overall %}

{% block title %}{{ account.name }} &bull; {% endblock %}

{% block pagetitle %}{{ account.name }}{% endblock %}

{% block content %}
<table class="transactions">
	<thead>
		<th>{% trans 'Payee' %}</th>
		<th>{% trans 'Money In' %}</th>
		<th>{% trans 'Money Out' %}</th>
		<th>{% trans 'Balance' %}</th>
	</thead>
	<tbody>
		{% for t in transactions %}
		{% ifchanged t.date %}
		<tr>
			<th class="date" colspan="4">{{ t.date|naturalday|capfirst }}</th>
		</tr>
		{% endifchanged %}
		<tr class="{% cycle 'odd' 'even' %}">
			<td class="payee"><span class="sprite{% if t.mobile %} mobile{% endif %}"></span>{{ t.payee.name }}</td>
			<td>{% if t.credit %}{{ t.amount|currency:account.currency }}{% endif %}</td>
			<td>{% if not t.credit %}{{ t.amount|currency:account.currency }}{% endif %}</td>
			<td>{{ account.balance_at }}</td>
		</tr>
		{% empty %}
		<tr class="odd">
			<td colspan="4">{% trans 'No transactions yet' %}</td>
		</tr>
		{% endfor %}
	</tbody>
</table>
{% endblock content %}